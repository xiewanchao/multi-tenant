{
    "apiVersion": "agentgateway.dev/v1alpha1",
    "kind": "AgentgatewayPolicy",
    "metadata": {
        "annotations": {
            "kubectl.kubernetes.io/last-applied-configuration": "{\"apiVersion\":\"agentgateway.dev/v1alpha1\",\"kind\":\"AgentgatewayPolicy\",\"metadata\":{\"annotations\":{},\"name\":\"jwt-auth-policy\",\"namespace\":\"agentgateway-system\"},\"spec\":{\"targetRefs\":[{\"group\":\"gateway.networking.k8s.io\",\"kind\":\"HTTPRoute\",\"name\":\"admin-api-route\"},{\"group\":\"gateway.networking.k8s.io\",\"kind\":\"HTTPRoute\",\"name\":\"tenant-api-route\"}],\"traffic\":{\"jwtAuthentication\":{\"mode\":\"Strict\",\"providers\":[{\"issuer\":\"http://www.example.com/realms/master\",\"jwks\":{\"remote\":{\"backendRef\":{\"group\":\"\",\"kind\":\"Service\",\"name\":\"keycloak\",\"namespace\":\"keycloak\",\"port\":8080},\"cacheDuration\":\"5m\",\"jwksPath\":\"/realms/master/protocol/openid-connect/certs\"}}},{\"issuer\":\"http://www.example.com/realms/acme\",\"jwks\":{\"remote\":{\"backendRef\":{\"group\":\"\",\"kind\":\"Service\",\"name\":\"keycloak\",\"namespace\":\"keycloak\",\"port\":8080},\"cacheDuration\":\"5m\",\"jwksPath\":\"/realms/acme/protocol/openid-connect/certs\"}}},{\"issuer\":\"http://www.example.com/realms/globex\",\"jwks\":{\"remote\":{\"backendRef\":{\"group\":\"\",\"kind\":\"Service\",\"name\":\"keycloak\",\"namespace\":\"keycloak\",\"port\":8080},\"cacheDuration\":\"5m\",\"jwksPath\":\"/realms/globex/protocol/openid-connect/certs\"}}}]}}}}\n"
        },
        "creationTimestamp": "2026-02-25T04:16:05Z",
        "generation": 2,
        "name": "jwt-auth-policy",
        "namespace": "agentgateway-system",
        "resourceVersion": "15349",
        "uid": "aaaa5472-9c6a-4893-b375-8f32bad005a0"
    },
    "spec": {
        "targetRefs": [
            {
                "group": "gateway.networking.k8s.io",
                "kind": "HTTPRoute",
                "name": "admin-api-route"
            },
            {
                "group": "gateway.networking.k8s.io",
                "kind": "HTTPRoute",
                "name": "tenant-api-route"
            }
        ],
        "traffic": {
            "jwtAuthentication": {
                "mode": "Strict",
                "providers": [
                    {
                        "issuer": "http://www.example.com/realms/master",
                        "jwks": {
                            "remote": {
                                "backendRef": {
                                    "group": "",
                                    "kind": "Service",
                                    "name": "keycloak",
                                    "namespace": "keycloak",
                                    "port": 8080
                                },
                                "cacheDuration": "5m",
                                "jwksPath": "/realms/master/protocol/openid-connect/certs"
                            }
                        }
                    },
                    {
                        "issuer": "http://www.example.com/realms/acme",
                        "jwks": {
                            "remote": {
                                "backendRef": {
                                    "group": "",
                                    "kind": "Service",
                                    "name": "keycloak",
                                    "namespace": "keycloak",
                                    "port": 8080
                                },
                                "cacheDuration": "5m",
                                "jwksPath": "/realms/acme/protocol/openid-connect/certs"
                            }
                        }
                    },
                    {
                        "issuer": "http://www.example.com/realms/globex",
                        "jwks": {
                            "remote": {
                                "backendRef": {
                                    "group": "",
                                    "kind": "Service",
                                    "name": "keycloak",
                                    "namespace": "keycloak",
                                    "port": 8080
                                },
                                "cacheDuration": "5m",
                                "jwksPath": "/realms/globex/protocol/openid-connect/certs"
                            }
                        }
                    }
                ]
            }
        }
    },
    "status": {
        "ancestors": [
            {
                "ancestorRef": {
                    "group": "gateway.networking.k8s.io",
                    "kind": "HTTPRoute",
                    "name": "admin-api-route",
                    "namespace": "agentgateway-system"
                },
                "conditions": [
                    {
                        "lastTransitionTime": "2026-02-25T06:19:05Z",
                        "message": "Policy accepted",
                        "reason": "Valid",
                        "status": "True",
                        "type": "Accepted"
                    },
                    {
                        "lastTransitionTime": "2026-02-25T06:19:05Z",
                        "message": "Attached to all targets",
                        "reason": "Attached",
                        "status": "True",
                        "type": "Attached"
                    }
                ],
                "controllerName": "agentgateway.dev/agentgateway"
            },
            {
                "ancestorRef": {
                    "group": "gateway.networking.k8s.io",
                    "kind": "HTTPRoute",
                    "name": "tenant-api-route",
                    "namespace": "agentgateway-system"
                },
                "conditions": [
                    {
                        "lastTransitionTime": "2026-02-25T06:19:05Z",
                        "message": "Policy accepted",
                        "reason": "Valid",
                        "status": "True",
                        "type": "Accepted"
                    },
                    {
                        "lastTransitionTime": "2026-02-25T06:19:05Z",
                        "message": "Attached to all targets",
                        "reason": "Attached",
                        "status": "True",
                        "type": "Attached"
                    }
                ],
                "controllerName": "agentgateway.dev/agentgateway"
            }
        ]
    }
}
